# р╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ Prisma р╕Бр╕▒р╕Ъ Mysql р╣Гр╕Щ Next.js

## р╣Ар╕гр╕┤р╣Ир╕бр╕кр╕гр╣Йр╕▓р╕Зр╣Вр╕Ыр╕гр╣Ар╕Ир╕Д Next.js

```bash
npx create-next-app@latest
```

## р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З Prisma р╣Гр╕Щр╣Вр╕Ыр╕гр╣Ар╕Ир╕Д

```bash
npm install prisma --save-dev
npx install prisma
```

## р╣Ар╕гр╕┤р╣Ир╕бр╕кр╕гр╣Йр╕▓р╕З р╣Ар╕Вр╣Йр╕▓р╣Др╕Ы Config Prisma

> my-app/prisma/schema.prisma

```bash
  datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
```

### р╣Гр╕Кр╣Йр╣Др╕Яр╕ер╣М .env

---

```bash
DATABASE_URL = mysql://USER:PASSWORD@HOST:PORT/DATABASE
```

## ЁЯОЙр╣Ар╕гр╕┤р╣Ир╕бр╕кр╕гр╣Йр╕▓р╕З р╕Хр╕▓р╕гр╕▓р╕З р╕Фр╣Йр╕зр╕в Prisma

## Step 1 р╣Ар╕Юр╕┤р╣Ир╕б р╣Гр╕Щ

> my-app/prisma/schema.prisma

```bash
 model Name {
  id        Int     @id  @default(autoincrement())
  title     String
  content   String?
  createdAt DateTime @default(now())
 }
```

> р╣Ар╕Ыр╣Зр╕Щр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕Зр╕Хр╕▓р╕гр╕▓р╕З

---

## Step 2 ЁЯСП р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щ prisma client

```bash
npx prisma generate
```

р╕Хр╣Йр╕нр╕Зр╣Гр╕лр╣Йр╕бр╕▒р╕Щр╣Ар╕Юр╕┤р╣Ир╕бр╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Чр╕╡р╣И package node_modules р╕Щр╕░ р╕Цр╣Йр╕▓р╕Ир╕░р╣Гр╕лр╣Йр╕Вр╕╢р╣Йр╕Щ AutoCompletes

## Step 3 р╣Ар╕гр╕┤р╣Ир╕бр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М .sql

р╣Ар╕Юр╕╖р╣Ир╕нр╣Гр╕лр╣Йр╕бр╕▒р╕Щр╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Др╕Ыр╕Хр╕┤р╕Фр╕Хр╣Ир╕нр╕Бр╕▒р╕Ър╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Др╕Фр╣Й р╣Гр╕Щр╕Бр╕▓р╕гр╕кр╕гр╣Йр╕▓р╕З р╕Хр╕▓р╕гр╕▓р╕З

```bash
npx prisma migrate dev --name <р╕Кр╕╖р╣Ир╕н migrate>
```

р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Щр╕╡р╣Й

- р╕Ир╕░р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М migration р╣Гр╕лр╕бр╣Ир╣Гр╕Щ folder `migrations` р╕Вр╕нр╕З Prisma р╣Др╕Яр╕ер╣Мр╕Щр╕╡р╣Йр╕Ир╕░р╣Ар╕Бр╣Зр╕Ър╕Др╕│р╕кр╕▒р╣Ир╕З SQL р╣Др╕зр╣Й (р╕бр╕╡р╣Ар╕зр╕ер╕▓р╕Ър╕нр╕Бр╕Фр╣Йр╕зр╕в)
- р╕Др╕│р╕кр╕▒р╣Ир╕З `--name <р╕Кр╕╖р╣Ир╕н migragtion>` р╣Гр╕Кр╣Йр╕Хр╕▒р╣Йр╕Зр╕Кр╕╖р╣Ир╕н р╕Бр╕▒р╕Ъ migtations р╕Щр╕▒р╣Йр╕Щр╣Ж
  -р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Бр╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М migration р╣Бр╕ер╣Йр╕з р╕Др╕│р╕кр╕▒р╣Ир╕Зр╕Щр╕╡р╣Йр╕Ир╕░р╕Ыр╕гр╕▒р╕Ър╣Гр╕Кр╣Й migration р╣Др╕Ыр╕вр╕▒р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Вр╕Фр╕вр╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤ р╕Лр╕╢р╣Ир╕Зр╕Ир╕░р╕Чр╕│р╕Бр╕▓р╕г updatee р╣Вр╕Др╕гр╕Зр╕кр╕гр╣Йр╕▓р╕Зр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕ер╣Гр╕лр╣Йр╕Хр╕гр╕Зр╕Бр╕▒р╕Ър╕Чр╕╡р╣Ир╕гр╕░р╕Ър╕╕р╣Др╕зр╣Йр╣Гр╕Щр╣Др╕Яр╕ер╣М schema.prisma р╣Ар╕Кр╣Ир╕Щ р╕Бр╕▓р╕гр╣Ар╕Юр╕┤р╣Ир╕бр╕Хр╕▓р╕гр╕▓р╕Зр╣Гр╕лр╕бр╣И, р╕Ыр╕гр╕▒р╕Ър╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щр╕Хр╕▓р╕гр╕▓р╕Зр╣Ар╕Фр╕┤р╕б р╕лр╕гр╕╖р╕нр╕ер╕Ър╕Хр╕▓р╕гр╕▓р╕З (migration р╕Ир╕░р╕зр╕┤р╣Ар╕Др╕гр╕▓р╕лр╣Мр╕нр╕нр╕Бр╕бр╕▓р╕Ьр╣Ир╕▓р╕Щ SQL р╣Гр╕Щ migration р╣Гр╕лр╣Йр╣Ар╕гр╕╡р╕вр╕Ър╕гр╣Йр╕нр╕вр╣Бр╕Ър╕Ър╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤)

# р╣Ар╕гр╕┤р╣Ир╕бр╕кр╕гр╣Йр╕▓р╕З API р╕кр╕│р╕лр╕гр╕▒р╕Ъ CRUD Back-End

> р╕кр╕гр╣Йр╕▓р╕З Folder api>post р╣Бр╕ер╕░р╕кр╕гр╣Йр╕▓р╕Зр╣Др╕Яр╕ер╣М route.ts

```bash
 |-- app
      |--- api ---> р╣Ар╕Бр╣Зр╕Ъ api р╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф
            |__ post ---> р╕Кр╕╖р╣Ир╕н path р╕Чр╕╡р╣Ир╕Ир╕░р╣Гр╕лр╣Йр╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Цр╕╢р╕З api р╕нр╕вр╣Ир╕▓р╕З localhost:5000/api/post
                  |-- [id] ---> р╕гр╕▒р╕Ъ id р╕Ьр╣Ир╕▓р╕Щ params р╕лр╕гр╕╖р╕н path р╣Гр╕Щр╣Бр╕Цр╕Ър╕Др╣Йр╕Щр╕лр╕▓
                  |     |-- route.ts ---> р╕кр╕гр╣Йр╕▓р╕Зр╣Ар╕кр╣Йр╕Щр╕Чр╕▓р╕З API р╕Чр╕╡р╣Ир╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╕Хр╕▓р╕б ID р╕лр╕гр╕╖р╕н р╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕Зр╕Др╕Щр╣Ар╕Фр╕╡р╕вр╕з GET PUT DELETE
                  |-- route.ts ---> р╣Ар╕Вр╣Йр╕▓р╕Цр╕╢р╕З API р╕Чр╕╡р╣Ир╣Бр╕кр╕Фр╕З (GET) р╕лр╕ер╕▓р╕вр╕Др╕Щ р╣Бр╕ер╕░ р╕кр╕гр╣Йр╕▓р╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е (POST) 1 р╕Др╕Щ
```

- р╕Чр╕Фр╕кр╕нр╕Ъ API р╕Ьр╣Ир╕▓р╕Щ Postman
- р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Фр╕╣ р╣Гр╕Щр╣Др╕Яр╕ер╣М route.ts

---

# р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕Щр╣Йр╕▓ Form р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕гр╕нр╕Бр╕Вр╣Йр╕нр╕бр╕╣р╕е Front-End

## р╕Хр╕┤р╕Фр╕Хр╕▒р╣Йр╕З axios р╕кр╕│р╕лр╕гр╕▒р╕Ър╣Гр╕Кр╣Йр╣Ар╕гр╕╡р╕вр╕Б р╕Хр╣Ир╕нр╕Бр╕▒р╕Ъ API
```bash
  npm install axios
```
```bash
 |-- app
      |--- create
      |        |--- page.tsx ---> р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕Щр╣Йр╕▓ р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕г р╣Ар╕Юр╕┤р╣Ир╕бр╕Вр╣Йр╕нр╕бр╕╣р╕е
      |--- Edit ---> р╕кр╕гр╣Йр╕▓р╕Зр╕лр╕Щр╣Йр╕▓ р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕г р╣Бр╕Бр╣Йр╣Др╕Вр╕Вр╣Йр╕нр╕бр╕╣р╕е
      |--- page.tsx ---> р╣Ар╕Ыр╣Зр╕Щр╕лр╕Щр╣Йр╕▓р╕кр╕│р╕лр╕гр╕▒р╕Ъ р╣Бр╕кр╕Фр╕Зр╕Хр╕▓р╕гр╕▓р╕Зр╕Вр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
```

# р╣Ар╕гр╕┤р╣Ир╕бр╕кр╕гр╣Йр╕▓р╕З API р╕кр╕│р╕лр╕гр╕▒р╕Ър╕Бр╕▓р╕г р╕Бр╕гр╕нр╕Зр╕Вр╣Йр╕нр╕бр╕╣р╕е
